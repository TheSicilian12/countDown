<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Count Down</title>
    <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
        <script>
            $(function () {
                $("#includeHtml").load("christmas.html");
            });
        </script>
    <style>
        #timer {
            font-size: 40px;
            text-align: center;
            margin-top: 50px;
            border: 1px solid black;
        }
    </style>
</head>

<body>
    <div id="includeHtml" class="center"></div>

    <p id="christmasDay">Christmas</p>
    <p id="newYearsEve">New Year's Eve</p>
    <p id="juneteenthDay">Juneteenth</p>
    <p id="independenceDay">Independence Day</p>
    <p id="veteransDay">Veteran's Day</p>

    <div id="day">Christmas</div>
    <div id="timer"></div>

    <script>
        // year
        let todayYear = new Date().getFullYear();

        // static federal holidays
        holidayObj = {
            'christmasDay': [new Date("Dec 25, " + todayYear + " 00:00:00").getTime(), 'Christmas'],
            'newYearsDay': [new Date("Jan 1, " + todayYear + 1 +" 00:00:00").getTime(), "New Year's Day"],
            'juneteenthDay': [new Date("Jun 19, " + todayYear +" 00:00:00").getTime(), 'Juneteenth'],
            'independenceDay': [new Date("Jul 4, " + todayYear +" 00:00:00").getTime(), 'Independence Day'],
            'veteransDay': [new Date("Nov 11, " + todayYear +" 00:00:00").getTime(), "Veteran's Day"],
            'newYearsEve': [new Date("Dec 31, " + todayYear + " 00:00:00").getTime(), "New Year's Eve"],
        }

        let timerDate = holidayObj['christmasDay'][0];
        let whatDay = 'Christmas'

        function handleHolidayClick(holiday) {
            timerDate = holidayObj[holiday][0];
            whatDay = holidayObj[holiday][1];
        }

        document.getElementById('christmasDay').addEventListener('click', function () {
            handleHolidayClick('christmasDay');
        })

        document.getElementById('newYearsEve').addEventListener('click', function () {
            handleHolidayClick('newYearsEve');
        })
        document.getElementById('juneteenthDay').addEventListener('click', function () {
            handleHolidayClick('juneteenthDay');
        })
        document.getElementById('independenceDay').addEventListener('click', function () {
            handleHolidayClick('independenceDay');
        })
        document.getElementById('veteransDay').addEventListener('click', function () {
            handleHolidayClick('veteransDay');
        })


        // timer changes
        let x = setInterval(function () {
            document.getElementById('day').innerHTML = whatDay;

            let now = new Date().getTime();
            let timeDif = timerDate - now;

            let days = Math.floor(timeDif / (1000 * 60 * 60 * 24))
            let hours = Math.floor(timeDif % (1000 * 60 * 60 * 24) / (1000 * 60 * 60));
            let minutes = Math.floor(timeDif % (1000 * 60 * 60) / (1000 * 60));
            let seconds = Math.floor(timeDif % (1000 * 60) / 1000);

            document.getElementById("timer").innerHTML = days + ' days ' + hours + ' hours ' +  minutes + ' minutes ' + seconds + ' seconds';

            if (timeDif < 0) {
                clearInterval(x);
                document.getElementById("timer").innerHTML = "EXPIRED";
            }

        }, 1000);
    </script>

</body>

</html>
<!-- https://date.nager.at/Api -->
