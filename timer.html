<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Timer</title>
</head>
<body>
    <script>
        function startTimer(timerDate) {
            let x = setInterval(function () {
                let now = Date.now();
                let timeDif = timerDate - now;

                let days = Math.floor(timeDif / (1000 * 60 * 60 * 24))
                let hours = Math.floor(timeDif % (1000 * 60 * 60 * 24) / (1000 * 60 * 60));
                let minutes = Math.floor(timeDif % (1000 * 60 * 60) / (1000 * 60));
                let seconds = Math.floor(timeDif % (1000 * 60) / 1000);

                let timerElement = document.getElementById("timer");
                if (timeDif < 0) {
                    clearInterval(x);
                    timerElement.innerHTML = "EXPIRED";
                } else {
                    timerElement.innerHTML = days + ' days ' + hours + ' hours ' + minutes + ' minutes ' + seconds + ' seconds';
                }
            }, 1000);
        }

        window.onload = function() {
            let todayYear = new Date().getFullYear();

            let holidayObj = {
                'christmas': [new Date("Dec 25, " + todayYear + " 00:00:00").getTime(), 'Christmas'],
                'newYearsEve': [new Date("Dec 31, " + todayYear + " 00:00:00").getTime(), "New Year's Eve"],
                // Add other holiday dates...
            }

            let holidayName = localStorage.getItem('holidayName');
            let timerDate = holidayObj[holidayName][0];

            if (timerDate - Date.now() <= 0) {
                document.getElementById("timer").innerHTML = "EXPIRED";
            } else {
                startTimer(timerDate);
            }
        };
    </script>

    <p id="timer">Drum roll please...</p>
</body>
</html>
